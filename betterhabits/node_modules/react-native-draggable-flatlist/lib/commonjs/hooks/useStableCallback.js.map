{"version":3,"names":["useStableCallback","cb","cbRef","useRef","current","identityRetainingCb","useCallback"],"sources":["useStableCallback.ts"],"sourcesContent":["import { useRef, useCallback } from \"react\";\n\n// Utility hook that returns a function that never has stale dependencies, but\n// without changing identity, as a useCallback with dep array would.\n// Useful for functions that depend on external state, but\n// should not trigger effects when that external state changes.\n\nexport function useStableCallback<\n  T extends (arg1?: any, arg2?: any, arg3?: any) => any\n>(cb: T) {\n  const cbRef = useRef(cb);\n  cbRef.current = cb;\n  const identityRetainingCb = useCallback(\n    (...args: Parameters<T>) => cbRef.current(...args),\n    []\n  );\n  return identityRetainingCb as T;\n}\n"],"mappings":"qGAAA,4BAOO,QAASA,kBAAT,CAELC,EAFK,CAEE,CACP,GAAMC,MAAK,CAAG,GAAAC,aAAA,EAAOF,EAAP,CAAd,CACAC,KAAK,CAACE,OAAN,CAAgBH,EAAhB,CACA,GAAMI,oBAAmB,CAAG,GAAAC,kBAAA,EAC1B,iBAA4BJ,MAAK,CAACE,OAAN,OAAAF,KAAK,WAAjC,EAD0B,CAE1B,EAF0B,CAA5B,CAIA,MAAOG,oBAAP,CACD"}